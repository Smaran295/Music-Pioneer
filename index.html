<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Pioneer</title>
    <style>
        /* Add your CSS here. For example, to hide sections by default: */
        #search-section, #library-section, #account-overview, #edit-profile-section, #settings-section { display: none; }
        /* Other styles for layout, grid, etc. */
    </style>
</head>
<body>

    <header>
        <nav>
            <div class="nav-icons">
                üéµ üé∂ üéº üé§ üé∏ üéπ
            </div>
        </nav>
    </header>

    <aside>
        <div class="logo">
            MusicPioneer
        </div>
        <ul>
            <li><a href="#" class="home-link active">Home</a></li>
            <li><a href="#" class="search-link">Search</a></li>
            <li><a href="#" class="library-link">Your Library</a></li>
        </ul>
        <div class="playlists">
            Playlists
            <ul>
                <li>Liked Songs</li>
                <li>Recently Played</li>
                <li>Your Own Playlist</li>
            </ul>
        </div>
    </aside>

    <main>
        <div class="profile">
            <div class="profile-icon">MP</div>
            <ul>
                <li class="account-link">Account</li>
                <li class="profile-link">Profile</li>
                <li class="settings-link">Settings</li>
                <li>Log out</li>
            </ul>
        </div>

        <div id="home-section">
            <div class="greeting">
                Good evening
                Ready to discover your next favorite song?
            </div>
            <div class="search-bar">
                <input type="search" class="search-input" placeholder="What do you want to listen to?">
            </div>
            <div class="top-results">
                Top result
                <div></div>
            </div>
            <div class="songs">
                Songs
                <div></div>
            </div>
            <div class="artists">
                Artists
                <div></div>
            </div>
            <div class="albums">
                Albums
                <div></div>
            </div>
            <div class="browse-all">
                Browse all
                <div>Pop</div>
                <div>Rock</div>
                <div>Hip-Hop</div>
                <div>Electronic</div>
                <div>Jazz</div>
                <div>Classical</div>
                <div>R&B</div>
                <div>Country</div>
            </div>
            <div class="top-hits">
                World's Top Hits
                <ul class="top-hits-list">
                    <li>
                        1 üåü Blinding Lights The Weeknd 3:20
                    </li>
                    <li>
                        2 üíñ Shape of You Ed Sheeran 3:53
                    </li>
                    <li>
                        3 üëë Bohemian Rhapsody Queen 5:55
                    </li>
                    <li>
                        4 üíî Someone Like You Adele 4:45
                    </li>
                    <li>
                        5 üï∫ Billie Jean Michael Jackson 4:54
                    </li>
                </ul>
            </div>
            <div class="playlist-section">
                PLAYLIST
                Liked Songs
                Music Pioneer ‚Ä¢ 127 songs
                <div></div>
                <table>
                    <tr>
                        # TITLE ALBUM DATE ADDED ‚è±
                    </tr>
                    <tr>
                        <td></td>
                    </tr>
                </table>
            </div>
            <div class="recently-played">
                PLAYLIST
                Recently Played
                Music Pioneer ‚Ä¢ 45 songs
                <div></div>
                <table>
                    <tr>
                        # TITLE ALBUM PLAYED ‚è±
                    </tr>
                    <tr>
                        <td></td>
                    </tr>
                </table>
            </div>
            <div class="your-playlist">
                üéµ
                PLAYLIST
                Your Own Playlist
                Music Pioneer ‚Ä¢ 23 songs
                <div></div>
                <table>
                    <tr>
                        # TITLE ALBUM DATE ADDED ‚è±
                    </tr>
                    <tr>
                        <td></td>
                    </tr>
                </table>
            </div>
        </div>

        <div id="search-section">
            /* The search results are moved here from home to separate. */
            <div class="top-results">
                Top result
                <div></div>
            </div>
            <div class="songs">
                Songs
                <div class="songs-list"></div>
            </div>
            <div class="artists">
                Artists
                <div></div>
            </div>
            <div class="albums">
                Albums
                <div></div>
            </div>
            <div class="browse-all">
                Browse all
                <div>Pop</div>
                <div>Rock</div>
                <div>Hip-Hop</div>
                <div>Electronic</div>
                <div>Jazz</div>
                <div>Classical</div>
                <div>R&B</div>
                <div>Country</div>
            </div>
        </div>

        <div id="library-section">
            Your Library
            All Playlists Artists Albums
            <div>
                <div>
                    Liked Songs
                    127 songs
                </div>
                <div>
                    üéµ Your Own Playlist
                    Playlist ‚Ä¢ 23 songs
                </div>
                <div>
                    üé∏ Rock Classics
                    Playlist ‚Ä¢ 50 songs
                </div>
                <div>
                    üé§ Pop Hits 2024
                    Playlist ‚Ä¢ 75 songs
                </div>
                <div>
                    üéπ Jazz Essentials
                    Album ‚Ä¢ Various Artists
                </div>
            </div>
            Recently played
            <div>
                üéµ Midnight Vibes Album ‚Ä¢ Artist Name
            </div>
            <div>
                üé∏ Rock Classics Playlist ‚Ä¢ 50 songs
            </div>
            <div>
                üéπ Jazz Essentials Album ‚Ä¢ Various Artists
            </div>
            <div>
                üé§ Pop Hits 2024 Playlist ‚Ä¢ 75 songs
            </div>
            <div>
                üéß Electronic Beats Album ‚Ä¢ DJ Mix
            </div>
        </div>

        <div id="account-overview">
            Account Overview
            <div>
                MP
                Music Pioneer
                musicpioneer@email.com
                Free Plan ‚Ä¢ Member since March 2024
            </div>
            <div>
                127 Liked Songs
                23 Playlists
                1,247 Hours Listened
            </div>
            <div>
                Privacy
                Manage your privacy settings and data preferences.
                Privacy Settings
            </div>
            <div>
                Recent Activity
                Liked "Blinding Lights" by The Weeknd 2 hours ago
                Created playlist "Road Trip Vibes" 1 day ago
                Followed artist "Dua Lipa" 3 days ago
                Updated profile picture 1 week ago
            </div>
        </div>

        <div id="edit-profile-section">
            Edit Profile
            <div>
                Profile Picture
                MP
                Choose Photo
                JPG, PNG or GIF. Max size 2MB.
            </div>
            <div>
                Profile Information
                Display Name
                Username
                Bio Music lover exploring all genres üéµ
                Country
                <select>
                    <option>United States</option>
                    <option>Canada</option>
                    <option>United Kingdom</option>
                    <option>Australia</option>
                    <option>Germany</option>
                    <option>France</option>
                    <option>Other</option>
                </select>
                Save Changes Cancel
            </div>
            <div>
                Social Links
                Instagram
                Twitter
                Website
            </div>
        </div>

        <div id="settings-section">
            Settings
            <div>
                Audio Quality
                Streaming Quality
                <select>
                    <option>High (320 kbps)</option>
                    <option>Normal (160 kbps)</option>
                    <option>Low (96 kbps)</option>
                </select>
                Enable Autoplay
                Crossfade between songs
            </div>
            <div>
                Playback
                Volume Level Quiet Loud
                Normalize volume
                Gapless playback
            </div>
            <div>
                Privacy
                Make my playlists public Others can see and follow your playlists
                Show my listening activity Let friends see what you're listening to
                Allow explicit content Show songs with explicit lyrics
            </div>
            <div>
                Notifications
                New music from artists you follow Get notified when artists release new music
                Playlist updates When someone adds to your collaborative playlists
            </div>
            <div>
                Language & Region
                Language
                <select>
                    <option>English</option>
                    <option>Spanish</option>
                    <option>French</option>
                    <option>German</option>
                    <option>Portuguese</option>
                    <option>Italian</option>
                </select>
                Country/Region
                <select>
                    <option>United States</option>
                    <option>Canada</option>
                    <option>United Kingdom</option>
                    <option>Australia</option>
                    <option>Germany</option>
                    <option>France</option>
                </select>
            </div>
            <button>Save All Settings</button>
        </div>

        <footer class="player">
            <div class="song-info">
                üéµ
                Song Title
                Artist Name
            </div>
            <div class="player-controls">
                <button>Shuffle</button>
                <button>Previous</button>
                <button>Play</button>
                <button>Next</button>
                <button>Repeat</button>
                <div class="time">
                    1:23
                    <progress value="30" max="100"></progress>
                    3:45
                </div>
            </div>
            <audio id="audio" controls></audio>
            <div class="volume">
                Volume
            </div>
        </footer>

    </main>

    <script>
        const API_BASE = 'https://annonymous-sage.vercel.app/api';

        // Fetch songs from API
        async function fetchSongs(query) {
            try {
                const res = await fetch(`${API_BASE}/search/songs?query=${encodeURIComponent(query)}`);
                const data = await res.json();
                if (data.success) {
                    return data.data.results;
                } else {
                    console.error('API error:', data.message);
                    return [];
                }
            } catch (error) {
                console.error('Fetch error:', error);
                return [];
            }
        }

        // Populate top hits on load
        async function populateTopHits() {
            const songs = await fetchSongs('top hits');
            const list = document.querySelector('.top-hits-list');
            list.innerHTML = '';
            songs.slice(0, 5).forEach((song, index) => {
                const li = document.createElement('li');
                li.innerHTML = `
                    ${index + 1} üåü ${song.name}
                    ${song.artists.primary[0].name}
                    ${Math.floor(song.duration / 60)}:${(song.duration % 60).toString().padStart(2, '0')}
                `;
                li.onclick = () => playSong(song);
                list.appendChild(li);
            });
        }

        // Populate search results
        async function populateSearchResults(songs) {
            const songsList = document.querySelector('.songs-list');
            if (songsList) {
                songsList.innerHTML = '';
                songs.forEach(song => {
                    const div = document.createElement('div');
                    div.innerHTML = `
                        <img src="${song.image?.[2]?.url || ''}" alt="${song.name}">
                        <p>${song.name}</p>
                        <p>${song.artists.primary[0].name}</p>
                    `;
                    div.onclick = () => playSong(song);
                    songsList.appendChild(div);
                });
            }
        }

        // Play song
        async function playSong(song) {
            try {
                const res = await fetch(`${API_BASE}/songs?id=${song.id}`);
                const data = await res.json();
                if (data.success) {
                    const audio = document.getElementById('audio');
                    const highestQuality = data.data.downloadUrl[data.data.downloadUrl.length - 1].url;
                    audio.src = highestQuality;
                    audio.play();
                    // Update player UI
                    document.querySelector('.song-info').innerHTML = `
                        üéµ
                        <span class="song-title">${song.name}</span>
                        <span class="artist-name">${song.artists.primary[0].name}</span>
                    `;
                } else {
                    console.error('API error:', data.message);
                }
            } catch (error) {
                console.error('Fetch error:', error);
            }
        }

        // Navigation
        const sections = {
            home: document.getElementById('home-section'),
            search: document.getElementById('search-section'),
            library: document.getElementById('library-section'),
            account: document.getElementById('account-overview'),
            profile: document.getElementById('edit-profile-section'),
            settings: document.getElementById('settings-section')
        };

        function showSection(sectionId) {
            Object.values(sections).forEach(sec => sec.style.display = 'none');
            sections[sectionId].style.display = 'block';
        }

        document.querySelector('.home-link').addEventListener('click', (e) => {
            e.preventDefault();
            showSection('home');
        });
        document.querySelector('.search-link').addEventListener('click', (e) => {
            e.preventDefault();
            showSection('search');
        });
        document.querySelector('.library-link').addEventListener('click', (e) => {
            e.preventDefault();
            showSection('library');
        });
        document.querySelector('.account-link').addEventListener('click', (e) => {
            e.preventDefault();
            showSection('account');
        });
        document.querySelector('.profile-link').addEventListener('click', (e) => {
            e.preventDefault();
            showSection('profile');
        });
        document.querySelector('.settings-link').addEventListener('click', (e) => {
            e.preventDefault();
            showSection('settings');
        });

        // Search event
        const searchInput = document.querySelector('.search-input');
        searchInput.addEventListener('input', async (e) => {
            const query = e.target.value.trim();
            if (query) {
                const songs = await fetchSongs(query);
                populateSearchResults(songs);
            }
        });

        // Initial setup
        showSection('home');
        populateTopHits();
    </script>

</body>
</html>
